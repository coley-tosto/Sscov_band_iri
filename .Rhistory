?qqplot
library(ggplot2)
library(car)
library(cowplot)
lighting_rep <- read.csv("processed_data/nestedaov.csv")
getwd()
knitr::opts_knit$set(root.dir='../',fig_path="../figs/")
knitr::opts_chunk$set(echo = TRUE,out.extra='',fig.pos="H",
fig.path = "../figs/",
dpi = 300,dev='png')
getwd()
setwd("\\\\file/Usersn$/nto42/Home/Desktop")
setwd("\\\\file/Usersn$/nto42/Home/Desktop/Sscov_band_iri")
getwd()
lighting_rep <- read.csv("processed_data/nestedaov.csv")
lighting_rep$measurement <- as.factor(lighting_rep$measurement)
lighting_rep$lighting <- as.factor(lighting_rep$lighting)
##Subsetting the data into mean iridescence measurements and overall iridescence
hard_mean <- subset(lighting_rep, measurement == "Hard")
easy_overall <- subset(lighting_rep, measurement == "Easy")
##Creating the plot for Mean Band Iridescence
MBI <- ggplot(hard_mean,
aes(x=fish, y=meaniri, fill= factor(lighting, levels = c("9 Lumens", "13 Lumens", "21 Lumens")))) +
geom_boxplot(width = 0.75, position = position_dodge(0.75)) +
scale_fill_manual(values = c("gray77","gray57","gray37")) +
labs(fill = "Lighting Condition") +
xlab("Fish ID") +
ylab(bquote("Mean Band Iridescence (mm" ^ "  2"*")")) +
theme_minimal()
##Creating the plot for Overall Iridescence
OI <- ggplot(easy_overall,
aes(x=fish, y=totaliri, fill= factor(lighting, levels = c("9 Lumens", "13 Lumens", "21 Lumens")))) +
geom_boxplot(width = 0.75, position = position_dodge(0.75)) +
scale_fill_manual(values = c("gray77","gray57","gray37")) +
labs(fill = "Lighting Condition") +
xlab("Fish ID") +
ylab(bquote("Overall Iridescence (mm" ^ "  2"*")")) +
theme(axis.text = element_text(size = 14),
axis.title = element_text(size = 16)) +
theme_minimal()
##Combining the figures to create Fig S1
top_rowFS1 <- plot_grid(MBI, OI,
ncol = 1,
nrow = 2,
labels = c('A', 'B'),
label_fontfamily = 'sans',
label_fontface = 'bold',
label_size = 18,
align = 'h',
rel_widths = c(1.10, 1.10))
plot_grid(top_rowFS1)
plot_grid(top_rowFS1)
##Creating the plot for Overall Iridescence
OI <- ggplot(easy_overall,
aes(x=fish, y=totaliri, fill= factor(lighting, levels = c("9 Lumens", "13 Lumens", "21 Lumens")))) +
geom_boxplot(width = 0.75, position = position_dodge(0.75)) +
scale_fill_manual(values = c("gray77","gray57","gray37")) +
labs(fill = "Lighting Condition") +
xlab("Fish ID") +
ylab(bquote("Overall Iridescence (mm" ^ "  2"*")")) +
theme_minimal(base_size = 22)
OI
##Subsetting the data into mean iridescence measurements and overall iridescence
hard_mean <- subset(lighting_rep, measurement == "Hard")
easy_overall <- subset(lighting_rep, measurement == "Easy")
##Creating the plot for Mean Band Iridescence
MBI <- ggplot(hard_mean,
aes(x=fish, y=meaniri, fill= factor(lighting, levels = c("9 Lumens", "13 Lumens", "21 Lumens")))) +
geom_boxplot(width = 0.75, position = position_dodge(0.75)) +
scale_fill_manual(values = c("gray77","gray57","gray37")) +
labs(fill = "Lighting Condition") +
xlab("Fish ID") +
ylab(bquote("Mean Band Iridescence (mm" ^ "  2"*")")) +
theme_minimal(base_size = 20)
##Creating the plot for Overall Iridescence
OI <- ggplot(easy_overall,
aes(x=fish, y=totaliri, fill= factor(lighting, levels = c("9 Lumens", "13 Lumens", "21 Lumens")))) +
geom_boxplot(width = 0.75, position = position_dodge(0.75)) +
scale_fill_manual(values = c("gray77","gray57","gray37")) +
labs(fill = "Lighting Condition") +
xlab("Fish ID") +
ylab(bquote("Overall Iridescence (mm" ^ "  2"*")")) +
theme_minimal(base_size = 20)
##Combining the figures to create Fig S1
top_rowFS1 <- plot_grid(MBI, OI,
ncol = 1,
nrow = 2,
labels = c('A', 'B'),
label_fontfamily = 'sans',
label_fontface = 'bold',
label_size = 18,
align = 'h',
rel_widths = c(1.10, 1.10))
plot_grid(top_rowFS1)
plot_grid(top_rowFS1)
